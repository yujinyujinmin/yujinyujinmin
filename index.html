<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìš°ì£¼ íƒí—˜: íƒœì–‘ê³„ ì¹œêµ¬ë“¤!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Gowun Dodum', sans-serif;
            background-color: #0c0a1e; /* ê¹Šì€ ìš°ì£¼ ìƒ‰ */
            background-image: radial-gradient(white, rgba(255,255,255,.2) 2px, transparent 40px),
            radial-gradient(white, rgba(255,255,255,.15) 1px, transparent 30px),
            radial-gradient(white, rgba(255,255,255,.1) 2px, transparent 40px),
            radial-gradient(rgba(255,255,255,.4), rgba(255,255,255,.1) 2px, transparent 30px);
            background-size: 550px 550px, 350px 350px, 250px 250px, 150px 150px;
            background-position: 0 0, 40px 60px, 130px 270px, 70px 100px;
        }
        .card-glow {
            transition: all 0.3s ease-in-out;
        }
        .card-glow:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.6);
        }
        @keyframes rainbow-glow {
            0% { box-shadow: 0 0 20px #ff0000; }
            15% { box-shadow: 0 0 20px #ff7f00; }
            30% { box-shadow: 0 0 20px #ffff00; }
            45% { box-shadow: 0 0 20px #00ff00; }
            60% { box-shadow: 0 0 20px #0000ff; }
            75% { box-shadow: 0 0 20px #4b0082; }
            90% { box-shadow: 0 0 20px #8f00ff; }
            100% { box-shadow: 0 0 20px #ff0000; }
        }
        .quiz-card-glow {
            animation: rainbow-glow 4s linear infinite;
            border-color: transparent !important;
        }
        /* ìŠ¤í¬ë¡¤ë°” ì»¤ìŠ¤í…€ */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1e1b4b; /* ì¸ë””ê³  950 */
        }
        ::-webkit-scrollbar-thumb {
            background: #4f46e5; /* ì¸ë””ê³  600 */
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #6366f1; /* ì¸ë””ê³  500 */
        }
    </style>
</head>
<body class="text-white">

    <!-- í˜ì´ì§€ í—¤ë” -->
    <header class="text-center py-8 md:py-12">
        <h1 class="text-4xl md:text-6xl font-bold tracking-tight">ğŸª ìš°ë¦¬ íƒœì–‘ê³„ ì¹œêµ¬ë“¤! ğŸŒ</h1>
        <p class="mt-4 text-lg md:text-xl text-gray-300">4í•™ë…„ ì¹œêµ¬ë“¤~ ì•Œê³  ì‹¶ì€ ë³„ ë° í–‰ì„± ì¹´ë“œë¥¼ ëˆŒëŸ¬ íƒí—˜í•´ ë³´ì„¸ìš”! </p>
    </header>

    <!-- ì²œì²´ ì¹´ë“œ ê·¸ë¦¬ë“œ -->
    <main id="celestial-grid" class="container mx-auto px-4 pb-12 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6">
        <!-- ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ì¹´ë“œê°€ ì—¬ê¸°ì— ìƒì„±ë©ë‹ˆë‹¤. -->
    </main>
    
    <!-- ìƒì„¸ ì •ë³´ ëª¨ë‹¬ (íŒì—…ì°½) -->
    <div id="modal" class="fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center p-4 z-50 hidden transition-opacity duration-300">
        <div id="modal-content" class="bg-slate-800 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto transform scale-95 transition-transform duration-300">
            <!-- ëª¨ë‹¬ ë‚´ìš©ì´ ì—¬ê¸°ì— ì±„ì›Œì§‘ë‹ˆë‹¤. -->
        </div>
    </div>

    <script>
        const celestialBodies = [
            {
                name: 'íƒœì–‘', engName: 'The Sun',
                imgSrc: 'https://photojournal.jpl.nasa.gov/jpeg/PIA19821.jpg',
                surface: 'ë”±ë”±í•œ ë•…ì´ ì—†ëŠ” ëœ¨ê±°ìš´ <strong>ê°€ìŠ¤ ë©ì–´ë¦¬</strong>ì˜ˆìš”. í‘œë©´ì´ ë¶€ê¸€ë¶€ê¸€ ë“ê³  ìˆê³ , ê±°ëŒ€í•œ ë¶ˆê¸°ë‘¥(í™ì—¼)ì´ ì†Ÿì•„ì˜¤ë¥´ê¸°ë„ í•´ìš”.',
                color: 'ì‹¤ì œë¡œëŠ” <strong>í°ìƒ‰</strong>ì— ê°€ê¹ì§€ë§Œ, ìš°ë¦¬ ëˆˆì—ëŠ” ì£¼ë¡œ <strong>ë…¸ë€ìƒ‰ì´ë‚˜ ë¶‰ì€ìƒ‰</strong>ìœ¼ë¡œ ë³´ì—¬ìš”.',
                rings: 'ì—†ì–´ìš” (X)',
                orbitalPeriod: 'íƒœì–‘ê³„ì˜ ì¤‘ì‹¬ì´ë¼ ê³µì „í•˜ì§€ ì•Šì•„ìš”.',
                features: 'ì§€ë¦„ì´ ì§€êµ¬ì˜ ì•½ 109ë°°ë‚˜ ë˜ëŠ” ê±°ëŒ€í•œ ë³„ì´ì—ìš”. íƒœì–‘ê³„ ì „ì²´ ì§ˆëŸ‰ì˜ 99.8%ë¥¼ ì°¨ì§€í•  ì •ë„ë¡œ ì•„ì£¼ ë¬´ê²ë‹µë‹ˆë‹¤!',
                borderColor: 'border-yellow-400'
            },
            {
                name: 'ìˆ˜ì„±', engName: 'Mercury',
                imgSrc: 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/Mercury_in_true_color.jpg/1024px-Mercury_in_true_color.jpg',
                surface: '<strong>ì•”ì„</strong>ìœ¼ë¡œ ë˜ì–´ ìˆê³ , ìš´ì„ì´ ë¶€ë”ªì³ ìƒê¸´ êµ¬ë©ì´(í¬ë ˆì´í„°)ê°€ ì•„ì£¼ ë§ì•„ìš”. ë§ˆì¹˜ ë‹¬ì˜ í‘œë©´ê³¼ ë¹„ìŠ·í•´ìš”.',
                color: '<strong>ì§„í•œ íšŒìƒ‰</strong>',
                rings: 'ì—†ì–´ìš” (X)',
                orbitalPeriod: 'ì•½ 88ì¼',
                features: 'ì§€ë¦„ì´ ì§€êµ¬ì˜ 1/3 ì •ë„ë¡œ ì‘ì•„ìš”. ëŒ€ê¸°ê°€ ê±°ì˜ ì—†ì–´ ë‚®ì—ëŠ” 430â„ƒ, ë°¤ì—ëŠ” -180â„ƒê¹Œì§€ ì˜¨ë„ê°€ ë³€í•˜ëŠ” ê·¹í•œì˜ í–‰ì„±ì´ëë‹ˆë‹¤! ğŸ¥¶',
                borderColor: 'border-gray-400'
            },
            {
                name: 'ê¸ˆì„±', engName: 'Venus',
                imgSrc: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/e5/Venus-real_color.jpg/1024px-Venus-real_color.jpg',
                surface: '<strong>ì•”ì„</strong>ìœ¼ë¡œ ëœ ë•…ì´ ìˆì§€ë§Œ, <strong>ì•„ì£¼ ë‘êº¼ìš´ ì´ì‚°í™”íƒ„ì†Œ êµ¬ë¦„</strong>ì— ë®ì—¬ ìˆì–´ì„œ í‘œë©´ì„ ë³´ê¸° í˜ë“¤ì–´ìš”.',
                color: '<strong>ë°ì€ ë…¸ë€ìƒ‰</strong> (ë‘êº¼ìš´ êµ¬ë¦„ì˜ ìƒ‰ê¹”ì´ì—ìš”)',
                rings: 'ì—†ì–´ìš” (X)',
                orbitalPeriod: 'ì•½ 225ì¼',
                features: "í¬ê¸°ì™€ ì§ˆëŸ‰ì´ ì§€êµ¬ì™€ ë¹„ìŠ·í•´ 'ìŒë‘¥ì´ í–‰ì„±'ìœ¼ë¡œ ë¶ˆë ¤ìš”. í•˜ì§€ë§Œ ë‘êº¼ìš´ ì´ì‚°í™”íƒ„ì†Œ ëŒ€ê¸° ë•Œë¬¸ì— íƒœì–‘ê³„ì—ì„œ ê°€ì¥ ëœ¨ê±°ìš´ í–‰ì„±ì´ ë˜ì—ˆì–´ìš”. ğŸ”¥",
                borderColor: 'border-yellow-200'
            },
            {
                name: 'ì§€êµ¬', engName: 'Earth',
                imgSrc: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/cb/The_Blue_Marble_%28remastered%29.jpg/1024px-The_Blue_Marble_%28remastered%29.jpg',
                surface: '<strong>ì•”ì„</strong>ìœ¼ë¡œ ëœ ë•…(ìœ¡ì§€)ê³¼ <strong>ì•¡ì²´ ìƒíƒœì˜ ë¬¼</strong>(ë°”ë‹¤)ì´ í•¨ê»˜ ìˆì–´ìš”.',
                color: '<strong>í‘¸ë¥¸ìƒ‰, ì´ˆë¡ìƒ‰, í°ìƒ‰</strong> ë“±ì´ ì–´ìš°ëŸ¬ì ¸ ìˆì–´ìš”.',
                rings: 'ì—†ì–´ìš” (X)',
                orbitalPeriod: 'ì•½ 365ì¼ (1ë…„)',
                features: 'ìš°ë¦¬ê°€ ì‚¬ëŠ” ìœ ì¼í•œ ì§‘! í‘œë©´ì— ì•¡ì²´ ìƒíƒœì˜ ë¬¼(ë°”ë‹¤)ì´ ìˆê³ , ìƒëª…ì²´ê°€ ìˆ¨ì‰´ ìˆ˜ ìˆëŠ” ëŒ€ê¸°ë¥¼ ê°€ì§„ íŠ¹ë³„í•œ í–‰ì„±ì´ì—ìš”. ğŸ’™',
                borderColor: 'border-blue-500'
            },
            {
                name: 'í™”ì„±', engName: 'Mars',
                imgSrc: 'https://upload.wikimedia.org/wikipedia/commons/thumb/0/02/OSIRIS_Mars_true_color.jpg/1024px-OSIRIS_Mars_true_color.jpg',
                surface: '<strong>ë¶‰ì€ í™ê³¼ ì•”ì„</strong>ìœ¼ë¡œ ë®ì—¬ ìˆì–´ìš”. ê±°ëŒ€í•œ í™”ì‚°ê³¼ ê¹Šì€ í˜‘ê³¡ì´ ìˆê³ , ì–‘ìª½ ê·¹ì§€ë°©ì—ëŠ” ì–¼ìŒ(ê·¹ê´€)ì´ ìˆì–´ìš”.',
                color: '<strong>ë¶‰ì€ìƒ‰</strong> (í™ì— ë…¹ìŠ¨ ì²  ì„±ë¶„ì´ ë§ê¸° ë•Œë¬¸ì´ì—ìš”)',
                rings: 'ì—†ì–´ìš” (X)',
                orbitalPeriod: 'ì•½ 687ì¼ (ì§€êµ¬ì˜ ì•½ 2ë°°)',
                features: "ì§€ë¦„ì´ ì§€êµ¬ì˜ ì ˆë°˜ ì •ë„ì˜ˆìš”. íƒœì–‘ê³„ì—ì„œ ê°€ì¥ í° í™”ì‚° 'ì˜¬ë¦¼í‘¸ìŠ¤ì‚°'ì´ ìˆê³ , 'í¬ë³´ìŠ¤'ì™€ 'ë°ì´ëª¨ìŠ¤'ë¼ëŠ” ë‘ ê°œì˜ ì‘ì€ ë‹¬ì„ ê°€ì§€ê³  ìˆë‹µë‹ˆë‹¤.",
                borderColor: 'border-red-500'
            },
            {
                name: 'ëª©ì„±', engName: 'Jupiter',
                imgSrc: 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/2b/Jupiter_and_its_shrunken_Great_Red_Spot.jpg/1024px-Jupiter_and_its_shrunken_Great_Red_Spot.jpg',
                surface: 'ë”±ë”±í•œ ë•…ì´ ì—†ëŠ” <strong>ê±°ëŒ€í•œ ê°€ìŠ¤ í–‰ì„±</strong>ì´ì—ìš”. í‘œë©´ì²˜ëŸ¼ ë³´ì´ëŠ” ê²ƒì€ íœ˜ëª°ì•„ì¹˜ëŠ” ê°€ìŠ¤ êµ¬ë¦„ì˜ ëª¨ìŠµì´ì—ìš”.',
                color: '<strong>ì£¼í™©ìƒ‰, ê°ˆìƒ‰, í°ìƒ‰</strong>ì˜ ì¤„ë¬´ëŠ¬ê°€ ë³´ì—¬ìš”.',
                rings: '<strong>ìˆì–´ìš” (O)</strong> - í•˜ì§€ë§Œ ì•„ì£¼ í¬ë¯¸í•´ì„œ ì˜ ë³´ì´ì§€ ì•Šì•„ìš”.',
                orbitalPeriod: 'ì•½ 12ë…„',
                features: "ì§€ë¦„ì´ ì§€êµ¬ì˜ 11ë°°ë‚˜ ë˜ëŠ” íƒœì–‘ê³„ì˜ ì™•ì´ì—ìš”! ë‹¤ë¥¸ ëª¨ë“  í–‰ì„±ì„ í•©ì¹œ ê²ƒë³´ë‹¤ 2.5ë°°ë‚˜ ë” ë¬´ê²ë‹µë‹ˆë‹¤. ìœ ëª…í•œ <strong>'ëŒ€ì ì '</strong>ì€ ì§€êµ¬ë³´ë‹¤ í° ê±°ëŒ€í•œ í­í’ì´ì—ìš”! ğŸŒªï¸",
                borderColor: 'border-orange-400'
            },
            {
                name: 'í† ì„±', engName: 'Saturn',
                imgSrc: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Saturn_during_Equinox.jpg/1024px-Saturn_during_Equinox.jpg',
                surface: 'ëª©ì„±ì²˜ëŸ¼ ë•…ì´ ì—†ëŠ” <strong>ê°€ìŠ¤ í–‰ì„±</strong>ì´ì—ìš”.',
                color: '<strong>ì—°í•œ ë…¸ë€ìƒ‰</strong>',
                rings: '<strong>ìˆì–´ìš” (O)</strong> - <strong>í¬ê³  ì•„ë¦„ë‹¤ìš´ ì–¼ìŒ ê³ ë¦¬</strong>ë¥¼ ê°€ì§€ê³  ìˆì–´ìš”. íƒœì–‘ê³„ì—ì„œ ê°€ì¥ ë©‹ì§„ ê³ ë¦¬ëë‹ˆë‹¤! ğŸ’',
                orbitalPeriod: 'ì•½ 29.5ë…„',
                features: 'ì§€ë¦„ì´ ì§€êµ¬ì˜ 9ë°°ë‚˜ ë˜ëŠ” ì»¤ë‹¤ë€ í–‰ì„±ì´ì—ìš”. ì•„ë¦„ë‹¤ìš´ ê³ ë¦¬ë¿ë§Œ ì•„ë‹ˆë¼ 80ê°œê°€ ë„˜ëŠ” ë§ì€ ë‹¬ë“¤ì„ ê±°ëŠë¦¬ê³  ìˆë‹µë‹ˆë‹¤! ğŸ›°ï¸',
                borderColor: 'border-yellow-300'
            },
            {
                name: 'ì²œì™•ì„±', engName: 'Uranus',
                imgSrc: 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Uranus2.jpg/1024px-Uranus2.jpg',
                surface: "<strong>ì–¼ìŒê³¼ ê°€ìŠ¤</strong>ë¡œ ì´ë£¨ì–´ì ¸ ìˆì–´ìš”. 'ê±°ëŒ€ ì–¼ìŒ í–‰ì„±'ìœ¼ë¡œ ë¶ˆë ¤ìš”.",
                color: '<strong>ì²­ë¡ìƒ‰</strong> (ëŒ€ê¸°ì˜ ë©”í…Œì¸ ì„±ë¶„ì´ ë¶‰ì€ë¹›ì„ í¡ìˆ˜í•´ì„œ í‘¸ë¥´ê²Œ ë³´ì—¬ìš”)',
                rings: '<strong>ìˆì–´ìš” (O)</strong> - í† ì„±ë§Œí¼ í™”ë ¤í•˜ì§„ ì•Šì§€ë§Œ, ê°€ëŠ˜ê³  ì–´ë‘ìš´ ê³ ë¦¬ê°€ ìˆì–´ìš”.',
                orbitalPeriod: 'ì•½ 84ë…„',
                features: 'ì§€ë¦„ì´ ì§€êµ¬ì˜ 4ë°° ì •ë„ì˜ˆìš”. ê±°ì˜ ì˜†ìœ¼ë¡œ ëˆ„ì›Œì„œ ìì „í•˜ëŠ” ë…íŠ¹í•œ í–‰ì„±ì´ë©°, íƒœì–‘ê³„ì—ì„œ ê°€ì¥ ì¶”ìš´ í–‰ì„±(-224â„ƒ)ì´ê¸°ë„ í•´ìš”!',
                borderColor: 'border-cyan-300'
            },
            {
                name: 'í•´ì™•ì„±', engName: 'Neptune',
                imgSrc: 'https://upload.wikimedia.org/wikipedia/commons/thumb/0/06/Neptune.jpg/1024px-Neptune.jpg',
                surface: "ì²œì™•ì„±ì²˜ëŸ¼ <strong>ì–¼ìŒê³¼ ê°€ìŠ¤</strong>ë¡œ ì´ë£¨ì–´ì§„ 'ê±°ëŒ€ ì–¼ìŒ í–‰ì„±'ì´ì—ìš”.",
                color: '<strong>íŒŒë€ìƒ‰</strong> (ì²œì™•ì„±ë³´ë‹¤ ë©”í…Œì¸ í•¨ëŸ‰ì´ ë†’ì•„ì„œ ë” ì§™ì€ íŒŒë€ìƒ‰ìœ¼ë¡œ ë³´ì—¬ìš”)',
                rings: '<strong>ìˆì–´ìš” (O)</strong> - í¬ë¯¸í•œ ì—¬ëŸ¬ ê°œì˜ ê³ ë¦¬ê°€ ìˆì–´ìš”.',
                orbitalPeriod: 'ì•½ 165ë…„',
                features: 'ì§€ë¦„ì´ ì§€êµ¬ì˜ ì•½ 4ë°°ì˜ˆìš”. íƒœì–‘ì—ì„œ ê°€ì¥ ë©€ë¦¬ ë–¨ì–´ì ¸ ìˆì–´ íƒœì–‘ ì£¼ìœ„ë¥¼ í•œ ë°”í€´ ë„ëŠ” ë° ë¬´ë ¤ 165ë…„ì´ë‚˜ ê±¸ë¦°ë‹µë‹ˆë‹¤! â³',
                borderColor: 'border-blue-700'
            }
        ];

        const quizData = [
            // ê¸°ì¡´ ë¬¸ì œ
            { question: "íƒœì–‘ê³„ì—ì„œ ê°€ì¥ ëœ¨ê±°ìš´ í–‰ì„±ì€ ì–´ë””ì¼ê¹Œìš”?", options: ["ìˆ˜ì„±", "ê¸ˆì„±", "í™”ì„±", "ëª©ì„±"], answer: "ê¸ˆì„±" },
            { question: "ì•„ë¦„ë‹¤ìš´ ì–¼ìŒ ê³ ë¦¬ë¥¼ ê°€ì§„ í–‰ì„±ì€ ë¬´ì—‡ì¼ê¹Œìš”?", options: ["ëª©ì„±", "í•´ì™•ì„±", "í† ì„±", "ì²œì™•ì„±"], answer: "í† ì„±" },
            { question: "íƒœì–‘ê³„ì—ì„œ ê°€ì¥ í° í–‰ì„±ì€ ë¬´ì—‡ì¼ê¹Œìš”?", options: ["ì§€êµ¬", "í† ì„±", "í•´ì™•ì„±", "ëª©ì„±"], answer: "ëª©ì„±" },
            { question: "'ë¶‰ì€ í–‰ì„±'ì´ë¼ëŠ” ë³„ëª…ì„ ê°€ì§„ í–‰ì„±ì€ ë¬´ì—‡ì¼ê¹Œìš”?", options: ["í™”ì„±", "ê¸ˆì„±", "ìˆ˜ì„±", "íƒœì–‘"], answer: "í™”ì„±" },
            { question: "íƒœì–‘ ì£¼ìœ„ë¥¼ í•œ ë°”í€´ ë„ëŠ” ë° 165ë…„ì´ë‚˜ ê±¸ë¦¬ëŠ” í–‰ì„±ì€?", options: ["ì²œì™•ì„±", "í† ì„±", "í•´ì™•ì„±", "ëª©ì„±"], answer: "í•´ì™•ì„±" },
            // ìƒˆë¡œìš´ ë¬¸ì œ
            { question: "ìš°ë¦¬ íƒœì–‘ê³„ì—ì„œ ê°€ì¥ ì‘ì€ í–‰ì„±ì€ ë¬´ì—‡ì¼ê¹Œìš”?", options: ["ìˆ˜ì„±", "í™”ì„±", "ì§€êµ¬", "í•´ì™•ì„±"], answer: "ìˆ˜ì„±" },
            { question: "ì§€êµ¬ì™€ í¬ê¸°ê°€ ë¹„ìŠ·í•´ 'ìŒë‘¥ì´ í–‰ì„±'ìœ¼ë¡œ ë¶ˆë¦¬ëŠ” í–‰ì„±ì€?", options: ["ê¸ˆì„±", "í™”ì„±", "ìˆ˜ì„±", "ëª©ì„±"], answer: "ê¸ˆì„±" },
            { question: "ìš°ë¦¬ê°€ ì‚¬ëŠ”, í‘œë©´ì— ì•¡ì²´ ìƒíƒœì˜ ë¬¼ì´ ìˆëŠ” ìœ ì¼í•œ í–‰ì„±ì€?", options: ["ì§€êµ¬", "í™”ì„±", "ê¸ˆì„±", "ì²œì™•ì„±"], answer: "ì§€êµ¬" },
            { question: "íƒœì–‘ê³„ì—ì„œ ê°€ì¥ í° í™”ì‚° 'ì˜¬ë¦¼í‘¸ìŠ¤ì‚°'ì´ ìˆëŠ” í–‰ì„±ì€?", options: ["í™”ì„±", "ì§€êµ¬", "ëª©ì„±", "í† ì„±"], answer: "í™”ì„±" },
            { question: "ì§€êµ¬ë³´ë‹¤ í° ê±°ëŒ€í•œ í­í’ 'ëŒ€ì ì 'ì´ ìˆëŠ” í–‰ì„±ì€?", options: ["ëª©ì„±", "í† ì„±", "ì²œì™•ì„±", "í•´ì™•ì„±"], answer: "ëª©ì„±" },
            { question: "ê±°ì˜ ì˜†ìœ¼ë¡œ ëˆ„ì›Œì„œ ìì „í•˜ëŠ” ë…íŠ¹í•œ í–‰ì„±ì€ ë¬´ì—‡ì¼ê¹Œìš”?", options: ["ì²œì™•ì„±", "í•´ì™•ì„±", "í† ì„±", "ì§€êµ¬"], answer: "ì²œì™•ì„±" },
            { question: "íƒœì–‘ê³„ì—ì„œ ë°”ëŒì´ ê°€ì¥ ê°•í•˜ê²Œ ë¶€ëŠ” í–‰ì„±ì€ ì–´ë””ì¼ê¹Œìš”?", options: ["í•´ì™•ì„±", "ëª©ì„±", "í† ì„±", "ì§€êµ¬"], answer: "í•´ì™•ì„±" },
            { question: "ìŠ¤ìŠ¤ë¡œ ë¹›ì„ ë‚´ëŠ” íƒœì–‘ì€ í–‰ì„±ê³¼ ë³„ ì¤‘ ë¬´ì—‡ì¼ê¹Œìš”?", options: ["ë³„", "í–‰ì„±", "ìœ„ì„±", "ì†Œí–‰ì„±"], answer: "ë³„" },
            { question: "1ë…„ì´ 88ì¼ë°–ì— ì•ˆë  ì •ë„ë¡œ íƒœì–‘ ì£¼ìœ„ë¥¼ ê°€ì¥ ë¹¨ë¦¬ ë„ëŠ” í–‰ì„±ì€?", options: ["ìˆ˜ì„±", "ê¸ˆì„±", "í™”ì„±", "ì§€êµ¬"], answer: "ìˆ˜ì„±" },
            { question: "ë¬¼ë³´ë‹¤ ê°€ë²¼ì›Œì„œ ê±°ëŒ€í•œ ë°”ë‹¤ì— ë„ìš¸ ìˆ˜ ìˆëŠ” í–‰ì„±ì€?", options: ["í† ì„±", "ëª©ì„±", "ì§€êµ¬", "í™”ì„±"], answer: "í† ì„±" }
        ];
        
        const grid = document.getElementById('celestial-grid');
        const modal = document.getElementById('modal');
        const modalContent = document.getElementById('modal-content');

        // localStorageì—ì„œ í™•ì¸í•œ ì¹´ë“œ ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸°
        let viewedCards = new Set(JSON.parse(localStorage.getItem('viewedSolarSystemCards')) || []);
        let isQuizCardShown = false;
        let currentQuestionIndex = 0;
        let score = 0;
        let shuffledQuizData = [];

        // ë°°ì—´ì„ ì„ëŠ” í•¨ìˆ˜
        function shuffleArray(array) {
            const newArr = array.slice(); // ì›ë³¸ ë°°ì—´ì„ ë³µì‚¬
            for (let i = newArr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArr[i], newArr[j]] = [newArr[j], newArr[i]];
            }
            return newArr;
        }

        // ì²œì²´ ì¹´ë“œë¥¼ ë™ì ìœ¼ë¡œ ìƒì„±
        celestialBodies.forEach((body, index) => {
            const card = document.createElement('div');
            const isViewed = viewedCards.has(index);
            card.className = `relative bg-slate-900/50 backdrop-blur-sm rounded-xl p-4 text-center cursor-pointer card-glow border-2 ${body.borderColor}`;
            card.innerHTML = `
                <div class="checkmark absolute top-3 right-3 text-green-400 transition-opacity duration-300 ${isViewed ? 'opacity-100' : 'opacity-0'}">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                    </svg>
                </div>
                <img src="${body.imgSrc}" alt="${body.name}" class="w-full rounded-lg mb-4 aspect-square object-cover">
                <h3 class="text-2xl font-bold">${body.name}</h3>
                <p class="text-gray-400">${body.engName}</p>
                <button data-index="${index}" class="mt-4 bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 px-4 rounded-full w-full transition-colors">ìì„¸íˆ ë³´ê¸°</button>
            `;
            grid.appendChild(card);
        });
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ, ì´ë¯¸ ëª¨ë“  ì¹´ë“œë¥¼ ë´¤ë‹¤ë©´ í€´ì¦ˆ ì¹´ë“œ ë°”ë¡œ í‘œì‹œ
        if (viewedCards.size === celestialBodies.length) {
            showQuizCard();
        }

        // í€´ì¦ˆ ì¹´ë“œ ë³´ì—¬ì£¼ê¸°
        function showQuizCard() {
            if (isQuizCardShown) return;
            isQuizCardShown = true;
            
            const quizCard = document.createElement('div');
            quizCard.className = 'bg-slate-900/50 backdrop-blur-sm rounded-xl p-4 text-center cursor-pointer quiz-card-glow border-2';
            quizCard.innerHTML = `
                <div class="w-full rounded-lg mb-4 aspect-square object-cover flex items-center justify-center text-6xl">ğŸš€</div>
                <h3 class="text-2xl font-bold">ë„ì „! ìš°ì£¼ í€´ì¦ˆ</h3>
                <p class="text-gray-400">Quiz Time!</p>
                <button data-type="quiz" class="mt-4 bg-purple-600 hover:bg-purple-500 text-white font-bold py-2 px-4 rounded-full w-full transition-colors">í€´ì¦ˆ í’€ê¸°</button>
            `;
            grid.appendChild(quizCard);
        }

        // í€´ì¦ˆ ì‹œì‘
        function startQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            const allShuffledData = shuffleArray(quizData); // ì „ì²´ í€´ì¦ˆ ë°ì´í„°ë¥¼ ì„ê³ 
            shuffledQuizData = allShuffledData.slice(0, 5); // ê·¸ ì¤‘ì—ì„œ 5ê°œë§Œ ì„ íƒ
            displayQuizQuestion();
        }

        // í€´ì¦ˆ ì§ˆë¬¸ í‘œì‹œ
        function displayQuizQuestion() {
            if (currentQuestionIndex >= shuffledQuizData.length) {
                showQuizResult();
                return;
            }
            const q = shuffledQuizData[currentQuestionIndex];
            const shuffledOptions = shuffleArray(q.options); // ë³´ê¸° ì„ê¸°
            modalContent.innerHTML = `
                <div class="p-8 text-center">
                    <h2 class="text-2xl md:text-3xl font-bold mb-2">ğŸš€ ìš°ì£¼ í€´ì¦ˆ ${currentQuestionIndex + 1} / ${shuffledQuizData.length}</h2>
                    <p class="text-xl md:text-2xl text-gray-300 mb-8">${q.question}</p>
                    <div id="quiz-options" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        ${shuffledOptions.map(option => `<button class="quiz-option text-lg p-4 rounded-lg bg-slate-700 hover:bg-slate-600 transition-colors">${option}</button>`).join('')}
                    </div>
                     <button id="close-modal" class="absolute top-4 right-6 text-4xl text-gray-400 hover:text-white">&times;</button>
                </div>
            `;
            modal.classList.remove('hidden');
            setTimeout(() => {
                modal.classList.add('opacity-100');
                modalContent.classList.add('scale-100');
            }, 10);
        }
        
        // í€´ì¦ˆ ê²°ê³¼ í‘œì‹œ
        function showQuizResult() {
            modalContent.innerHTML = `
                <div class="p-8 text-center">
                    <h2 class="text-4xl font-bold mb-4">ğŸ‰ í€´ì¦ˆ ì™„ë£Œ! ğŸ‰</h2>
                    <p class="text-2xl text-gray-300 mb-8">ë‹¹ì‹ ì˜ ì ìˆ˜ëŠ” <span class="text-yellow-400 font-bold">${shuffledQuizData.length}</span>ì  ë§Œì ì— <span class="text-yellow-400 font-bold">${score}</span>ì ì…ë‹ˆë‹¤!</p>
                    <div class="flex justify-center gap-4">
                        <button id="restart-quiz" class="bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 px-6 rounded-full transition-colors">ë‹¤ì‹œ í’€ê¸°</button>
                        <button id="close-quiz" class="bg-slate-600 hover:bg-slate-500 text-white font-bold py-3 px-6 rounded-full transition-colors">ë‹«ê¸°</button>
                    </div>
                </div>
            `;
        }


        // í´ë¦­ ì´ë²¤íŠ¸ í†µí•© ì²˜ë¦¬
        grid.addEventListener('click', (e) => {
            const button = e.target.closest('button');
            if (!button) return;

            if (button.dataset.index) {
                const index = parseInt(button.dataset.index, 10);
                const body = celestialBodies[index];
                
                modalContent.innerHTML = `
                    <div class="p-6">
                        <div class="flex justify-between items-start">
                             <h2 class="text-4xl font-bold mb-4">${body.name} <span class="text-2xl text-gray-400">${body.engName}</span></h2>
                             <button id="close-modal" class="text-4xl text-gray-400 hover:text-white">&times;</button>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <img src="${body.imgSrc}" alt="${body.name}" class="w-full rounded-lg aspect-square object-cover">
                            </div>
                            <div class="space-y-4 text-lg">
                                <div class="bg-slate-700/50 p-4 rounded-lg"><h4 class="font-bold text-indigo-300">ğŸ¨ ìƒ‰ê¹”</h4><p class="text-gray-200">${body.color}</p></div>
                                <div class="bg-slate-700/50 p-4 rounded-lg"><h4 class="font-bold text-indigo-300">ğŸª¨ í‘œë©´ ìƒíƒœ</h4><p class="text-gray-200">${body.surface}</p></div>
                                <div class="bg-slate-700/50 p-4 rounded-lg"><h4 class="font-bold text-indigo-300">ğŸ’ ê³ ë¦¬ ìœ ë¬´</h4><p class="text-gray-200">${body.rings}</p></div>
                                <div class="bg-slate-700/50 p-4 rounded-lg"><h4 class="font-bold text-indigo-300">â³ ê³µì „ ì£¼ê¸°</h4><p class="text-gray-200">${body.orbitalPeriod}</p></div>
                                <div class="bg-slate-700/50 p-4 rounded-lg"><h4 class="font-bold text-indigo-300">âœ¨ ê·¸ ë°–ì˜ íŠ¹ì§•</h4><p class="text-gray-200">${body.features}</p></div>
                            </div>
                        </div>
                    </div>
                `;
                
                // ì¹´ë“œ í™•ì¸ ìƒíƒœ ì²˜ë¦¬
                if (!viewedCards.has(index)) {
                    viewedCards.add(index);
                    localStorage.setItem('viewedSolarSystemCards', JSON.stringify(Array.from(viewedCards)));
                    
                    // ì²´í¬ í‘œì‹œ ë³´ì´ê¸°
                    const cardElement = button.closest('.card-glow');
                    const checkmark = cardElement.querySelector('.checkmark');
                    if (checkmark) {
                        checkmark.classList.remove('opacity-0');
                        checkmark.classList.add('opacity-100');
                    }
                }

                modal.classList.remove('hidden');
                setTimeout(() => {
                    modal.classList.add('opacity-100');
                    modalContent.classList.add('scale-100');
                }, 10);
            } else if (button.dataset.type === 'quiz') {
                startQuiz();
            }
        });
        
        // ëª¨ë‹¬ ë‚´ í´ë¦­ ì´ë²¤íŠ¸ ì²˜ë¦¬ (ì •ë‹µ í™•ì¸, í€´ì¦ˆ ë‹¤ì‹œí•˜ê¸° ë“±)
        modalContent.addEventListener('click', e => {
            const button = e.target.closest('button');
            if (!button) return;

            if (button.classList.contains('quiz-option')) {
                const selectedAnswer = button.textContent;
                const correctAnswer = shuffledQuizData[currentQuestionIndex].answer;
                const options = modalContent.querySelectorAll('.quiz-option');

                options.forEach(opt => {
                    opt.disabled = true; // ì¤‘ë³µ í´ë¦­ ë°©ì§€
                    if (opt.textContent === correctAnswer) {
                        opt.classList.remove('bg-slate-700');
                        opt.classList.add('bg-green-600'); // ì •ë‹µ
                    }
                });

                if (selectedAnswer === correctAnswer) {
                    score++;
                } else {
                    button.classList.remove('bg-slate-700');
                    button.classList.add('bg-red-600'); // ì˜¤ë‹µ
                }

                currentQuestionIndex++;
                setTimeout(displayQuizQuestion, 1200); // 1.2ì´ˆ í›„ ë‹¤ìŒ ë¬¸ì œë¡œ
            } else if (button.id === 'restart-quiz') {
                startQuiz();
            } else if (button.id === 'close-quiz') {
                closeModal();
            }
        });


        // ëª¨ë‹¬ ë‹«ê¸°
        function closeModal() {
            modal.classList.remove('opacity-100');
            modalContent.classList.remove('scale-100');
            setTimeout(() => {
                modal.classList.add('hidden');
                // ëª¨ë“  ì¹´ë“œë¥¼ ë‹¤ ë´¤ëŠ”ì§€ í™•ì¸í•˜ê³  í€´ì¦ˆ ì¹´ë“œ í‘œì‹œ
                if (viewedCards.size === celestialBodies.length) {
                    showQuizCard();
                }
            }, 300);
        }

        modal.addEventListener('click', (e) => {
            if (e.target.id === 'modal' || e.target.closest('#close-modal')) {
                closeModal();
            }
        });
    </script>
</body>
</html>



